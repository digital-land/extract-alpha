{% extends "prototypes/geo-reference/layouts/default.njk" %}

{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "components/simple-map/macro.njk" import simpleMap %}

{% block content %}
  {# two column layout #}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-one-third govuk-body">
      <h1 class="govuk-heading-m">Location found</h1>
      <hr>
        <p>
          <strong>File name</strong>
          <br>
            WR418.pdf
          </p>
          <p>
            <strong>Address</strong>
            <br>
              St Joseph RC Primary School, Woodchurch Road, Prenton, Wirral<br>
                <a href="#" data-function="copyable" data-clipboard-text="St Joseph RC Primary School, Woodchurch Road, Prenton, Wirral">Copy</a>
              </p>

              <p>
                <b>X, Y (Easting, Northing)</b>
                <br>
                  331453, 378611<br>
                    <a href="#" data-function="copyable" data-clipboard-text="386875, 343876">Copy</a>
                  </p>

                  <p>
                    <b>Latitude, Longitude</b>
                    <br>
                      53.376263190005986, -3.0390652722349993
                      <br>
                        <a href="#" data-function="copyable" data-clipboard-text="53.376263190005986,-3.0390652722349993">Copy</a>
                      </p>
                      <hr class="govuk-!-margin-bottom-7"/>
                      {{ govukButton({
                        text: "Upload a new document",
                        href: "/prototypes/geo-reference/"
                      }) }}
                    </div>
                    <div class="govuk-grid-column-two-thirds">

                      {{ simpleMap({
                          zoom: 16,
                          lat: "53.376263190005986",
                          lng: "-3.0390652722349993"
                        }) }}
{# 53.376263190005986, -3.0390652722349993 #}
                    </div>
                  </div>

                {% endblock %}

                {% block bodyEnd %}
                  {{ super() }}
                  <script>
                    document.querySelectorAll("[data-function='copyable']").forEach((element) => {
                      element.addEventListener("click", (event) => {
                        navigator.clipboard.writeText(event
                          .target
                          .dataset
                          .clipboardText);
                      });
                    });
                  </script>
                {% endblock %}
              </p>
            </p>
          </p>
        </p>
      </p>