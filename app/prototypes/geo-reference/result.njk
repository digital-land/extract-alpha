{% extends "prototypes/geo-reference/layouts/default.njk" %}

{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "components/simple-map/macro.njk" import simpleMap %}

{% block content %}
  {# two column layout #}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-one-third govuk-body">
      <h1 class="govuk-heading-m">Location found</h1>
      <hr>
        <p>
          <strong>File name</strong>
          <br>
            TPO 148 (Confirmed).pdf
          </p>
          <p>
            <strong>Address</strong>
            <br>
              Daintry Street, Oakhill, Stoke-on-Trent<br>
                <a href="#" data-function="copyable" data-clipboard-text="Daintry Street, Oakhill, Stoke-on-Trent">Copy</a>
              </p>

              <p>
                <b>X, Y (Easting, Northing)</b>
                <br>
                  386875, 343876<br>
                    <a href="#" data-function="copyable" data-clipboard-text="386875, 343876">Copy</a>
                  </p>

                  <p>
                    <b>Latitude, Longitude</b>
                    <br>
                      52.99205243310385, -2.1969858810409884
                      <br>
                        <a href="#" data-function="copyable" data-clipboard-text="52.99205243310385,-2.1969858810409884">Copy</a>
                      </p>
                      <hr class="govuk-!-margin-bottom-7"/>
                      {{ govukButton({
                        text: "Upload a new document",
                        href: "/prototypes/geo-reference/"
                      }) }}
                    </div>
                    <div class="govuk-grid-column-two-thirds">

                      {{ simpleMap({
                          zoom: 16,
                          lat: "52.992",
                          lng: "-2.1969"
                        }) }}

                    </div>
                  </div>

                {% endblock %}

                {% block bodyEnd %}
                  {{ super() }}
                  <script>
                    document.querySelectorAll("[data-function='copyable']").forEach((element) => {
                      element.addEventListener("click", (event) => {
                        navigator.clipboard.writeText(event
                          .target
                          .dataset
                          .clipboardText);
                      });
                    });
                  </script>
                {% endblock %}
              </p>
            </p>
          </p>
        </p>
      </p>